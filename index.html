<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <script src="index.js"></script>
<!--   <script src="abcjs_midi_6.0.0-beta.8-min.js" type="text/javascript"></script> -->
  <script src="abcjs_midi_5.8.1-min.js" type="text/javascript"></script>
  
  <link href="index.css" media="all" rel="stylesheet" type="text/css">
  <link href="abcjs-midi.css" media="all" rel="stylesheet" type="text/css">
  <link href="https://use.fontawesome.com/491e16d960.css" media="all" rel="stylesheet">

  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-150091503-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-150091503-1');
  </script>
</head>
<body class="center">
  <div class="toast">
    <span id='flash-message' class="round"></span>
  </div>
  <div class="title">Folk Tune Transposer</div>
  <div class="pad section">
    <div class="instructions pad">
      <div>Most tunes are written for instruments in the key of C (like fiddle and piano).</div>
      <div>If you play a non-C instrument (like Bb clarinet), this tool can help.</div>
    </div>
    <div>
      <span class="pad">Instrument Key: <select id="instrumentKey" onchange="instrumentKeyChanged()"></select></span>
      <span class="pad">Octave: <select id="octaveChange" onchange="octaveChanged()"></select></span>
    </div>
  </div>
  <div class="pad section">
    <div class="pad">Find a tune on <a href="https://www.folktunefinder.com">www.folktunefinder.com</a>.</div>
    <div>Copy its <a href="https://alpha.onp4.com/@p4/6zf1q">ABC notation</a> to your clipboard, then "paste" it here.</div>
    <button onclick="renderFromClipboard()" class="pad">Use tune from clipboard</button>
    <button onclick="copyToClipboard()" class="pad">Copy abc to clipboard</button>
  </div>
  <div class="narrower">
    <div id="paper"></div>
    <div class="pad">
      <div class="playback-title">Full (Melody + Accompaniment)</div>
      <div id="midi-full" class="abcjs-large"></div>
    </div>
    <div class="pad">
      <div class="playback-title">Melody</div>
      <div id="midi-melody" class="abcjs-large"></div>
    </div>
    <div class="pad">
      <div class="playback-title">Accompaniment</div>
      <div id="midi-accompaniment" class="abcjs-large"></div>
    </div>
  </div>
  <!-- <div>
    <button onclick="renderExample()">Load an example tune</button>
  </div> -->
  <div class="instructions pad">
    <div class="pad">Bonus feature! On desktop only:</div>
    <div>Drag this <a href='javascript:(function(){window.location = "https://folktunetransposer.com/#" + encodeURIComponent(document.getElementsByTagName("pre")[0].textContent)})();'>Transpose Tune</a> bookmarklet to your bookmarks toolbar.</div>
    <div>Click it while viewing a tune on <a href="https://www.folktunefinder.com">www.FolkTuneFinder.com</a> to open it here on FolkTuneTransposer.</div>
  </div>
  <div class="instructions pad footer">
    Made by <a href="https://www.twitter.com/kyloma">Casey Watts!</a> using <a href="https://www.abcjs.net">abcjs</a>
  </div>
</body>
</html>
